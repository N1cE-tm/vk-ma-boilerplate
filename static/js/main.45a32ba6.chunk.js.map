{"version":3,"sources":["config.js","js/store/vk/actions.js","js/store/vk/actionTypes.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/panels/more/base.js","js/panels/more/example.js","js/store/formData/actions.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["config","appID","vkAPI","startStory","startView","startPanel","basePanel","routes","path","pretty","setAccessToken","accessToken","type","payload","closeApp","VKConnect","send","swipeBackOn","swipeBackOff","APICall","method","params","store","getState","vkui","undefined","sendPromise","then","data","response","catch","error","smoothScrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","routerState2Url","activeStory","activeView","activePanel","_url","join","find","el","initialState","storiesHistory","viewsHistory","panelsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","componentScroll","forms","combineReducers","state","action","component","tab","x","y","element","getElementById","getElementsByClassName","scrollLeft","router","View","view","Panel","panel","viewIndexInHistory","indexOf","splice","length","VK","history","pushState","pageYOffset","story","initial_panel","firstPanel","shift","firstView","storiesIndexInHistory","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","from","popout","id","modalsHistory","formData","form","setPage","goBack","openPopout","closePopout","openModal","closeModal","HomePanelBase","showImg","setState","this","props","actions","title","autoclose","style","onClose","withoutEpic","size","stretched","onClick","className","src","alt","React","Component","mapDispatchToProps","connect","GroupCell","description","photo","name","desc","before","PureComponent","renderGroupsList","items","groups","map","group","key","photo_100","HomePanelGroups","admined","other","loading","errorGetAuthToken","getAuthToken","getGroupsList","scope","dispatch","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","adminedGroupsList","otherGroupsList","left","bindActionCreators","HomePanelProfile","setScrollPositionByID","setActiveTab","scrolls","Object","keys","forEach","componentData","restoreScrollPosition","noShadow","vertical","theme","setTab","selected","marginTop","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","inputData","handleInput","e","value","currentTarget","checked","clearForm","setFormData","top","onChange","placeholder","autoComplete","formName","bots","avatar","HomeBotsListModal","header","IS_PLATFORM_IOS","right","settlingHeight","bot","index","asideContent","fill","App","lastAndroidBackAction","subscribe","VKConnectCallback","detail","unsubscribe","scheme","onpopstate","timeNow","Date","pageScrollPosition","scroll","homeModals","HomeBotInfoModal","isWebView","tabbar","modal","onSwipeBack","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","url","hash","substr","SVP","split","routerUrl2State","location","ReactDOM","render"],"mappings":"yOAAaA,EAAS,CAClBC,MAAO,QACPC,MAAO,OACPC,WAAY,OACZC,UAAW,OACXC,WAAY,OACZC,UAAW,OACXC,OAAQ,CACJ,CAAEC,KAAM,iBAAmBC,OAAQ,IACnC,CAAED,KAAM,qBAAuBC,OAAQ,WCMlCC,EAAiB,SAACC,GAAD,MAC1B,CACIC,KChBwB,mBDiBxBC,QAASF,IEaJG,EAAW,WACpBC,IAAUC,KAAK,gBAAiB,CAAC,OAAU,aAGlCC,EAAc,WACvBF,IAAUC,KAAK,0BAA2B,KAGjCE,EAAe,WACxBH,IAAUC,KAAK,2BAA4B,KAWlCG,EAAU,SAACC,EAAQC,GAI5B,OAHAA,EAAM,aAAmBC,GAAMC,WAAWC,KAAKb,YAC/CU,EAAM,OAAwBI,IAAhBJ,EAAM,EAAsBrB,EAAOE,MAAQmB,EAAM,EAExDN,IAAUW,YAAY,wBAAyB,CAClD,OAAUN,EACV,OAAUC,IACXM,MAAK,SAAAC,GACJ,OAAOA,EAAKA,KAAKC,YAClBC,OAAM,SAAAC,GACL,OAAOA,MC1DFC,EAAoB,SAApBA,IACT,IAAMC,EAAIC,SAASC,gBAAgBC,WAAaF,SAASG,KAAKD,UAE1DH,EAAI,IAIJA,EAAI,IACJK,OAAOC,sBAAsBP,GAC7BM,OAAOE,SAAS,EAAGP,EAAIA,EAAI,KAqCtBQ,EAAkB,SAACC,EAAaC,EAAYC,GACrD,IAAMC,EAAO,CAACpC,OAAQ,CAACiC,EAAaC,EAAYC,GAAaE,KAAK,MAGlE,MAAO,CAAC,KAFK9C,EAAOO,OAAOwC,MAAK,SAAAC,GAAE,OAAKA,EAAGxC,OAASqC,EAAKpC,WAAWoC,GAEhDpC,QAAQqC,KAAK,MCvC9BG,EAAe,CACjBP,YAAa,KACbC,WAAY,KACZC,YAAa,KAEbM,eAAgB,GAChBC,aAAc,GACdC,cAAe,GAEfC,aAAc,GACdC,aAAc,GACdC,QAAS,GAETC,eAAgB,ICnBdP,EAAe,CACjBtC,iBAAac,EACbgC,YAAa,eAEbC,UAAW,GACXC,gBAAiB,ICXfV,EAAe,CACjBW,MAAO,ICEIC,4BAAgB,CAC3BrC,KFUuB,WAAmC,IAAlCsC,EAAiC,uDAAzBb,EAAcc,EAAW,uCAEzD,OAAQA,EAAOnD,MAEX,IJpBwB,mBIqBpB,OAAO,eACAkD,EADP,CAEIL,YAAaM,EAAOlD,UAI5B,IJ1BwB,mBI2BpB,OAAO,eACAiD,EADP,CAEInD,YAAaoD,EAAOlD,UAI5B,IJhCsB,iBIiClB,OAAO,eACAiD,EADP,CAEIJ,UAAU,eACHI,EAAMJ,UADJ,eAEJK,EAAOlD,QAAQmD,UAAYD,EAAOlD,QAAQoD,QAKvD,IJzC2B,sBI0CvB,OAAO,eACAH,EADP,CAEIH,gBAAgB,eACTG,EAAMH,gBADE,eAEVI,EAAOlD,QAAQmD,UAAY,CACxBE,EAAGH,EAAOlD,QAAQqD,EAClBC,EAAGJ,EAAOlD,QAAQsD,OAMlC,IJrDiC,4BIsD7B,IAAIC,EAAUlC,SAASmC,eAAeN,EAAOlD,QAAQmD,WAAWM,uBAAuB,wBAAwB,GAE3GJ,EAAIE,EAAQG,WACZJ,EAAIC,EAAQhC,UAEhB,OAAO,eACA0B,EADP,CAEIH,gBAAgB,eACTG,EAAMH,gBADE,eAEVI,EAAOlD,QAAQmD,UAAY,CACxBE,EAAGA,EACHC,EAAGA,OAMnB,QACI,OAAOL,IErEfU,OHuByB,WAAmC,IAAlCV,EAAiC,uDAAzBb,EAAcc,EAAW,uCAE3D,OAAQA,EAAOnD,MAEX,IIlCgB,WJmCZ,IAAI6D,EAAOV,EAAOlD,QAAQ6D,KACtBC,EAAQZ,EAAOlD,QAAQ+D,MAIvBxB,EAAgBU,EAAMV,cAAcqB,IAAS,GAC7CtB,EAAeW,EAAMX,aAAaW,EAAMpB,cAAgB,GAEtDmC,EAAqB1B,EAAa2B,QAAQL,GAehD,OAb4B,IAAxBI,GACA1B,EAAa4B,OAAOF,EAAoB,IAGN,IAAlCzB,EAAc0B,QAAQH,KACtBvB,EAAa,sBAAOA,GAAP,CAAsBuB,KAGnCvB,EAAc4B,OAAS,GACvBC,IAGJ3C,OAAO4C,QAAQC,UAAU,KAAM,KAAM1C,EAAgBqB,EAAMpB,YAAa+B,EAAME,IACvE,eACAb,EADP,CAEInB,WAAY8B,EACZ7B,YAAa+B,EAEbvB,cAAc,eACPU,EAAMV,cADA,eAERqB,EAAOrB,IAEZD,aAAa,eACNW,EAAMX,aADD,eAEPW,EAAMpB,YAFC,sBAEiBS,GAFjB,CAE+BsB,MAE3CjB,eAAe,eACRM,EAAMN,eADC,eAETM,EAAMpB,YAAc,IAAMoB,EAAMnB,WAAa,IAAMmB,EAAMlB,YAAcN,OAAO8C,gBAK3F,II7EiB,YJgFb,IAAIjC,EAAeW,EAAMX,aAAaY,EAAOlD,QAAQwE,QAAU,CAACtB,EAAOlD,QAAQwE,OAE3EnC,EAAiBY,EAAMZ,eACvBP,EAAaQ,EAAaA,EAAa6B,OAAS,GAChD5B,EAAgBU,EAAMV,cAAcT,IAAe,CAACoB,EAAOlD,QAAQyE,eACnE1C,EAAcQ,EAAcA,EAAc4B,OAAS,GAEvD,GAAIjB,EAAOlD,QAAQwE,QAAUvB,EAAMpB,YAC/B,GAAIU,EAAc4B,OAAS,EAAG,CAC1B,IAAIO,EAAanC,EAAcoC,QAG/B5C,GAFAQ,EAAgB,CAACmC,IAEWnC,EAAc4B,OAAS,QAChD,GAAI7B,EAAa6B,OAAS,EAAG,CAChC,IAAIS,EAAYtC,EAAaqC,QAG7B7C,GAFAQ,EAAe,CAACsC,IAEUtC,EAAa6B,OAAS,GAEhDpC,GADAQ,EAAgBU,EAAMV,cAAcT,IACRS,EAAc4B,OAAS,GAIvDjB,EAAOlD,QAAQwE,QAAUvB,EAAMpB,aAAwC,IAAzBU,EAAc4B,QAAgB1C,OAAO8C,YAAc,IACjG9C,OAAOE,SAAS,EAAG,IAEnBR,KAGJ,IAAM0D,EAAwBxC,EAAe4B,QAAQf,EAAOlD,QAAQwE,OAQpE,QAN+B,IAA3BK,GAAiCxC,EAAe,KAAOa,EAAOlD,QAAQwE,OAASnC,EAAeA,EAAe8B,OAAS,KAAOjB,EAAOlD,QAAQwE,SAC5InC,EAAc,sBAAOA,GAAP,CAAuBa,EAAOlD,QAAQwE,SAGxD/C,OAAO4C,QAAQC,UAAU,KAAM,KAAM1C,EAAgBsB,EAAOlD,QAAQwE,MAAO1C,EAAYC,IAEhF,eACAkB,EADP,CAEIpB,YAAaqB,EAAOlD,QAAQwE,MAC5B1C,WAAYA,EACZC,YAAaA,EAEbM,eAAgBA,EAChBC,aAAa,eACNW,EAAMX,aADD,eAEPR,EAAaQ,IAElBC,cAAc,eACPU,EAAMV,cADA,eAERT,EAAaS,IAGlBI,eAAe,eACRM,EAAMN,eADC,eAETM,EAAMpB,YAAc,IAAMoB,EAAMnB,WAAa,IAAMmB,EAAMlB,YAAcN,OAAO8C,gBAK3F,II3Ie,UJ4IX,IAAIO,EAAU7B,EAAMnB,WAChBiD,EAAW9B,EAAMlB,YACjBiD,EAAW/B,EAAMpB,YAEjBoD,EAAchC,EAAMP,QAExB,GAAIuC,EAAYH,GAGZ,OAFAG,EAAYH,GAAW,KAEhB,eACA7B,EADP,CAEIP,QAAQ,eACDO,EAAMP,QADN,CACeuC,kBAK9B,IAAIC,EAAoBjC,EAAMR,aAAaqC,GAE3C,QAA0BlE,IAAtBsE,GAAgE,IAA7BA,EAAkBf,OAAc,CACnE,IAAIgB,EAAcD,EAAkBA,EAAkBf,OAAS,IAAM,KAUrE,OARoB,OAAhBgB,EACAD,EAAoB,IAC+B,IAA5CA,EAAkBjB,QAAQkB,GACjCD,EAAoBA,EAAkBhB,OAAO,EAAGgB,EAAkBjB,QAAQkB,GAAe,GAEzFD,EAAkBE,KAAKD,GAGpB,eACAlC,EADP,CAEIT,aAAa,eACNS,EAAMT,aADD,eAEPsC,EAAUK,IAEf1C,aAAa,eACNQ,EAAMR,aADD,eAEPqC,EAAUI,MAKvB,IAAI3C,EAAgBU,EAAMV,cAAcuC,IAAY,GAChDxC,EAAeW,EAAMX,aAAaW,EAAMpB,cAAgB,GACxDQ,EAAiBY,EAAMZ,eAE3B,GAAIE,EAAc4B,OAAS,EACvB5B,EAAc8C,MAEdN,EAAWxC,EAAcA,EAAc4B,OAAS,QAC7C,GAAI7B,EAAa6B,OAAS,EAAG,CAChC7B,EAAa+C,MAEbP,EAAUxC,EAAaA,EAAa6B,OAAS,GAC7C,IAAImB,EAAmBrC,EAAMV,cAAcuC,IAAY3F,EAAOM,UAE9DsF,EAAWO,EAAiBA,EAAiBnB,OAAS,QACnD,GAAI9B,EAAe8B,OAAS,GAA6B,YAAxBjB,EAAOlD,QAAQuF,KAAoB,CACvElD,EAAegD,MAEfL,EAAW3C,EAAeA,EAAe8B,OAAS,IAAMhF,EAAOG,WAC/DwF,EAAU7B,EAAMX,aAAa0C,GAAU/B,EAAMX,aAAa0C,GAAUb,OAAS,IAAMhF,EAAOI,UAE1F,IAAI+F,EAAmBrC,EAAMV,cAAcuC,GAGvCC,EADAO,EAAiBnB,OAAS,EACfmB,EAAiBA,EAAiBnB,OAAS,GAE3CmB,EAAiB,QAED,IAAzB/C,EAAc4B,OACpBY,EAAW,OAEXX,IAQJ,OAL6B,IAAzB7B,EAAc4B,QAAwC,QAAxBjB,EAAOlD,QAAQuF,MAC7CnB,IAGJ3C,OAAO4C,QAAQC,UAAU,KAAM,KAAM1C,EAAgBoD,EAAUF,EAASC,IACjE,eACA9B,EADP,CAEInB,WAAYgD,EACZ/C,YAAagD,EACblD,YAAamD,EAEb1C,aAAa,eACNW,EAAMX,aADD,eAEPW,EAAMnB,WAAaQ,IAExBC,cAAc,eACPU,EAAMV,cADA,eAERU,EAAMnB,WAAaS,MAKhC,II9OmB,cJiPf,OAFAd,OAAO4C,QAAQC,UAAU,KAAM,MAExB,eACArB,EADP,CAEIP,QAAQ,eACDO,EAAMP,QADN,eAEFO,EAAMnB,WAAaoB,EAAOlD,QAAQwF,WAK/C,IIzPoB,eJ0PhB,OAAO,eACAvC,EADP,CAEIP,QAAQ,eACDO,EAAMP,QADN,eAEFO,EAAMnB,WAAa,SAKhC,IIlQkB,aJmQdL,OAAO4C,QAAQC,UAAU,KAAM,MAE/B,IAAIa,EAAcjC,EAAOlD,QAAQyF,IAAM,KACnCC,EAAgBzC,EAAMR,aAAaQ,EAAMnB,YAAzB,YAA2CmB,EAAMR,aAAaQ,EAAMnB,aAAe,GAUtG,OARmB,OAAhBqD,EACAO,EAAgB,IAC+B,IAAxCA,EAAczB,QAAQkB,GAC7BO,EAAgBA,EAAcxB,OAAO,EAAGwB,EAAczB,QAAQkB,GAAe,GAE7EO,EAAcN,KAAKD,GAGf,eACDlC,EADN,CAEGT,aAAa,eACNS,EAAMT,aADD,eAEPS,EAAMnB,WAAaqD,IAExB1C,aAAa,eACNQ,EAAMR,aADD,eAEPQ,EAAMnB,WAAa4D,MAKhC,II5RmB,cJ6Rf,IAAIP,EAAclC,EAAMR,aAAaQ,EAAMnB,YAAYmB,EAAMR,aAAaQ,EAAMnB,YAAYqC,OAAS,IAAM,KACvGuB,EAAgBzC,EAAMR,aAAaQ,EAAMnB,YAAzB,YAA2CmB,EAAMR,aAAaQ,EAAMnB,aAAe,GAUvG,OARoB,OAAhBqD,EACAO,EAAgB,IAC+B,IAAxCA,EAAczB,QAAQkB,GAC7BO,EAAgBA,EAAcxB,OAAO,EAAGwB,EAAczB,QAAQkB,GAAe,GAE7EO,EAAcN,KAAKD,GAGhB,eACAlC,EADP,CAEIT,aAAa,eACNS,EAAMT,aADD,eAEPS,EAAMnB,WAAaqD,IAExB1C,aAAa,eACNQ,EAAMR,aADD,eAEPQ,EAAMnB,WAAa4D,MAKhC,QACI,OAAOzC,IGpTf0C,SDF2B,WAAmC,IAAlC1C,EAAiC,uDAAzBb,EAAcc,EAAW,uCAE7D,OAAQA,EAAOnD,MAEX,IGVqB,iBHWjB,OAAO,eACAkD,EADP,CAEIF,MAAM,eACCE,EAAMF,MADR,eAEAG,EAAOlD,QAAQ4F,KAAO1C,EAAOlD,QAAQe,SAKlD,QACI,OAAOkC,M,QInBN+B,EAAW,SAACR,EAAOC,GAAR,MACpB,CACI1E,KFHiB,YEIjBC,QAAS,CACLwE,MAAOA,EACPC,cAAeA,KAKdoB,EAAU,SAAChC,EAAME,GAAP,MACnB,CACIhE,KFdgB,WEehBC,QAAS,CACL6D,KAAMA,EACNE,MAAOA,KAKN+B,EAAS,eAACP,EAAD,uDAAQ,MAAR,MAClB,CACIxF,KFtBe,UEuBfC,QAAS,CACLuF,KAAMA,KAKLQ,EAAa,SAACP,GAAD,MACtB,CACIzF,KF9BmB,cE+BnBC,QAAS,CACLwF,OAAQA,KAKPQ,EAAc,iBACvB,CACIjG,KFtCoB,iBE0CfkG,EAAY,SAACR,GAAD,MACrB,CACI1F,KF3CkB,aE4ClBC,QAAS,CACLyF,QAKCS,EAAa,iBACtB,CACInG,KFnDmB,gB,+FGCrBoG,E,2MAEFlD,MAAQ,CACJmD,SAAS,G,EAGbA,QAAU,WACN,EAAKC,SAAS,CAACD,SAAS,K,4EAGd,IAAD,OACTE,KAAKC,MAAMR,WACP,kBAAC,IAAD,CACIS,QAAS,CAAC,CACNC,MAAO,qBACPC,WAAW,EACXC,MAAO,UACR,CACCF,MAAO,eACPC,WAAW,EACXxD,OAAQoD,KAAKF,UAEjBQ,QAAS,kBAAM,EAAKL,MAAMP,gBAE1B,yGACA,6I,+BAKF,IAAD,SAC8BM,KAAKC,MAAjCd,EADF,EACEA,GAAII,EADN,EACMA,QAASgB,EADf,EACeA,YAEpB,OACI,kBAAC,IAAD,CAAOpB,GAAIA,GACP,kBAAC,IAAD,mDACA,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQqB,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAMnB,EAAQ,OAAQ,YAAjE,iGAGJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQiB,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAM,EAAKjB,eAAtD,8EAEJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQe,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAM,EAAKT,MAAMN,UAAU,0BAAtE,uJAGHY,GAAe,kBAAC,IAAD,KACZ,kBAAC,IAAD,CAAQC,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAMnB,EAAQ,QAAS,aAAlE,+HAEHS,KAAKrD,MAAMmD,SAAW,kBAAC,IAAD,CAAKa,UAAU,cAClC,yBAAKC,IAAI,qCAAqCC,IAAI,mD,GApD9CC,IAAMC,WA6D5BC,EAAqB,CACvBzB,UACAC,SACAC,aACAC,cACAC,aAGWsB,cAAQ,KAAMD,EAAdC,CAAkCpB,G,iBCrDlCqB,E,iLAjBD,IAAD,EAC8BlB,KAAKC,MAAjCkB,EADF,EACEA,YAAaC,EADf,EACeA,MAAOC,EADtB,EACsBA,KAEvBC,EAAOH,EAAYtD,OAAS,EAAIsD,EAAc,sHAElD,OACI,kBAAC,IAAD,CACIA,YAAaG,EACbC,OAAQ,kBAAC,IAAD,CAAQf,KAAM,GAAII,IAAKQ,KAE9BC,O,GAZOG,iBCDXC,EAAmB,SAACC,GAC7B,IAAIC,EAAS,KAUb,YATcrH,IAAVoH,GAAiC,OAAVA,GAAmC,IAAjBA,EAAM7D,SAC/C8D,EAASD,EAAME,KAAI,SAACC,GAAD,OACf,kBAAC,EAAD,CACIC,IAAKD,EAAM1C,GACXgC,YAAaU,EAAMV,YACnBC,MAAOS,EAAME,UACbV,KAAMQ,EAAMR,WAGjBM,GCHLK,E,2MAEFrF,MAAQ,CACJgF,OAAQ,CACJM,QAAS,GACTC,MAAO,IAEXC,SAAS,EACTC,mBAAmB,G,wFAIY9H,IAA3B0F,KAAKC,MAAMzG,YACXwG,KAAKqC,eAELrC,KAAKsC,kB,qCZNW,IAACC,EYWrBvC,KAAKC,MAAMuC,UZXUD,EYWe,CAAC,UZXN,SAACC,GACpC5I,IAAUW,YAAY,uBAAwB,CAC1C,OAAU1B,EAAOC,MACjB,MAASyJ,EAAM5G,KAAK,OACrBnB,MAAK,SAAAC,GACJ+H,EAASjJ,EAAekB,EAAKA,KAAKgI,kBACnC9H,OAAM,WACL6H,EAASjJ,EAAe,e,yCYOTmJ,EAAWC,EAAWC,GACjC5C,KAAKC,QAAUyC,IACgB,OAA3B1C,KAAKC,MAAMzG,YACXwG,KAAKD,SAAS,CACVoC,SAAS,EACTC,mBAAmB,KAGvBpC,KAAKD,SAAS,CACVoC,SAAS,EACTC,mBAAmB,IAGvBpC,KAAKsC,oB,sHAMTO,aAAaC,QAAQ,uBAAwBD,aAAaC,QAAQ,mB,uBAClE9C,KAAKD,SAAS,CACV4B,OAAQ,CACJM,QAASc,KAAKC,MAAMH,aAAaC,QAAQ,sBACzCZ,MAAOa,KAAKC,MAAMH,aAAaC,QAAQ,qBAE3CX,SAAS,I,oDZfdnI,EAAQ,aAAc,CACzB,SAAY,IACZ,OAAU,cACV,MAAS,S,OYkBL2H,E,OAEAsB,EAAgBtB,EAAOD,MAAMwB,QAAO,SAAUC,GAC9C,OAAyB,IAAlBA,EAAKC,YAGZC,EAAc1B,EAAOD,MAAMwB,QAAO,SAAUC,GAC5C,OAAyB,IAAlBA,EAAKC,YAGhBP,aAAaS,QAAQ,oBAAqBP,KAAKQ,UAAUN,IACzDJ,aAAaS,QAAQ,kBAAmBP,KAAKQ,UAAUF,IAEvDrD,KAAKD,SAAS,CACV4B,OAAQ,CACJM,QAASgB,EACTf,MAAOmB,GAEXlB,SAAS,I,iFAIP,IAAD,SACgBnC,KAAKC,MAAnBd,EADF,EACEA,GAAIK,EADN,EACMA,OAEPgE,EAAoB/B,EAAiBzB,KAAKrD,MAAMgF,OAAOM,SACvDwB,EAAkBhC,EAAiBzB,KAAKrD,MAAMgF,OAAOO,OAEzD,OACI,kBAAC,IAAD,CAAO/C,GAAIA,GACP,kBAAC,IAAD,CACIuE,KAAM,kBAAC,IAAD,CAAiBhD,QAAS,kBAAMlB,QAD1C,wCAKCQ,KAAKrD,MAAMwF,SAAW,kBAAC,IAAD,OACrBnC,KAAKrD,MAAMwF,SAAWnC,KAAKrD,MAAMyF,mBAAqB,kBAAC,IAAD,KACpD,kBAAC,IAAD,+aACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQ5B,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAM,EAAK2B,iBAAtD,8GAINrC,KAAKrD,MAAMwF,UAAYnC,KAAKrD,MAAMyF,mBAAqBoB,GACzD,kBAAC,IAAD,CAAOrD,MAAM,oGACT,kBAAC,IAAD,KACKqD,KAGPxD,KAAKrD,MAAMwF,UAAYnC,KAAKrD,MAAMyF,mBAAqBqB,GACzD,kBAAC,IAAD,CAAOtD,MAAM,0DACT,kBAAC,IAAD,KACKsD,S,GA1GK3C,IAAMC,WA0HpC,IAMeE,eANS,SAACtE,GACrB,MAAO,CACHnD,YAAamD,EAAMtC,KAAKb,gBAThC,SAA4BgJ,GACxB,OAAO,aACHA,YACGmB,6BAAmB,CAACnE,SAAQC,aAAYC,cAAaC,aAAY6C,MAU7DvB,CAA6Ce,GCxHtD4B,G,YAEF,WAAY3D,GAAQ,IAAD,8BACf,4CAAMA,KAEDtD,MAAQ,CACTJ,UAAW0D,EAAM1D,UAAN,SAA8B,SAJ9B,E,oEAQZO,GACHkD,KAAKD,SAAS,CACVxD,UAAWO,M,6CAIK,IAAD,EAC2BkD,KAAKC,MAA5C4D,EADY,EACZA,uBAEPC,EAHmB,EACWA,cAEjB,UAAW9D,KAAKrD,MAAMJ,WACnCsH,EAAsB,uB,2CZvBO,WACjC,IAAIE,EAAU5J,GAAMC,WAAWC,KAAKmC,gBAEpCwH,OAAOC,KAAKF,GAASG,SAAQ,SAACrH,GAC1B,IAAIsH,EAAgBJ,EAAQlH,GAExBI,EAAUlC,SAASmC,eAAeL,GAElCI,KACAA,EAAUA,EAAQE,uBAAuB,wBAAwB,IAEzDC,WAAa+G,EAAcpH,EACnCE,EAAQhC,UAAYkJ,EAAcnH,MYetCoH,K,+BAGM,IAAD,SACiBpE,KAAKC,MAApBd,EADF,EACEA,GAAII,EADN,EACMA,QAGX,OACI,kBAAC,IAAD,CAAOJ,GAAIA,GACP,kBAAC,IAAD,CAAakF,UAAU,GAAvB,cACA,kBAAC,IAAD,CAAaC,SAAS,OAClB,kBAAC,IAAD,CAAMC,MAAM,SAAS9K,KAAK,WACtB,kBAAC,IAAD,CAAkB0F,GAAG,qBACjB,kBAAC,IAAD,CACIuB,QAAS,kBAAM,EAAK8D,OAAO,UAC3BC,SAAmC,UAAzBzE,KAAKrD,MAAMJ,WAFzB,mFAMA,kBAAC,IAAD,CACImE,QAAS,kBAAM,EAAK8D,OAAO,SAC3BC,SAAmC,SAAzBzE,KAAKrD,MAAMJ,WAFzB,qDAMA,kBAAC,IAAD,CACImE,QAAS,kBAAM,EAAK8D,OAAO,UAC3BC,SAAmC,UAAzBzE,KAAKrD,MAAMJ,WAFzB,uDAMA,kBAAC,IAAD,CACImE,QAAS,kBAAM,EAAK8D,OAAO,UAC3BC,SAAmC,UAAzBzE,KAAKrD,MAAMJ,WAFzB,0DASZ,kBAAC,IAAD,CAAO8D,MAnCE,CAACqE,UAAW,KAoCS,UAAzB1E,KAAKrD,MAAMJ,WAAyB,kBAAC,IAAD,CAAYmE,QAAS,kBAAMnB,EAAQ,QAAS,aAA5C,8HAIX,UAAzBS,KAAKrD,MAAMJ,WAAyB,kBAAC,IAAD,KAAMyD,KAAKrD,MAAMJ,iB,GArE3CuE,IAAMC,WAmF/BC,GAAqB,CACvBzB,UACAuE,aflFwB,SAACjH,EAAWC,GAAZ,MACxB,CACIrD,KCtBsB,iBDuBtBC,QAAS,CACLmD,YACAC,Se8ER+G,sBf9DiC,SAAChH,GAAD,MACjC,CACIpD,KCzCiC,4BD0CjCC,QAAS,CACLmD,gBe6DGoE,gBAZS,SAACtE,GACrB,MAAO,CACHJ,UAAWI,EAAMtC,KAAKkC,aAUUyE,GAAzBC,CAA6C2C,ICzFtDA,G,YAEF,WAAY3D,GAAQ,IAAD,sBACf,4CAAMA,IAEN,IAAI0E,EAAmB,CACnBC,UAAW,GACXC,aAAc,GAEdC,cAAe,EACfC,eAAgB,GARL,OAWf,EAAKpI,MAAQ,CACTqI,UAAW/E,EAAM+E,UAAN,cAAmCL,GAGlD,EAAKM,YAAc,SAACC,GAChB,IAAIC,EAAQD,EAAEE,cAAcD,MAEC,aAAzBD,EAAEE,cAAc3L,OAChB0L,EAAQD,EAAEE,cAAcC,SAG5B,EAAKtF,SAAS,CACViF,UAAU,eACH,EAAKrI,MAAMqI,UADT,eAEJE,EAAEE,cAAc/D,KAAO8D,OAKpC,EAAKG,UAAY,WACb,EAAKvF,SAAS,CACViF,UAAWL,KAhCJ,E,oFAsCf3E,KAAKC,MAAMsF,YAAY,eAAgBvF,KAAKrD,MAAMqI,a,+BAG5C,IAAD,EACgBhF,KAAKC,MAAnBd,EADF,EACEA,GAAIK,EADN,EACMA,OAEX,OACI,kBAAC,IAAD,CAAOL,GAAIA,GACP,kBAAC,IAAD,CACIuE,KAAM,kBAAC,IAAD,CAAiBhD,QAAS,kBAAMlB,QAD1C,mFAKA,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAiBgG,IAAI,wCACjB,kBAAC,IAAD,CAAOL,MAAOnF,KAAKrD,MAAMqI,UAAUJ,UAC5Ba,SAAUzF,KAAKiF,YACf5D,KAAK,YACLqE,YAAY,sEACZC,aAAa,QACpB,kBAAC,IAAD,CAAOR,MAAOnF,KAAKrD,MAAMqI,UAAUH,aAC5BY,SAAUzF,KAAKiF,YACf5D,KAAK,eACLqE,YAAY,yDACZC,aAAa,SAExB,kBAAC,IAAD,CAAiBH,IAAI,kFACjB,kBAAC,IAAD,CAAUH,QAASrF,KAAKrD,MAAMqI,UAAUF,cAC9BW,SAAUzF,KAAKiF,YACf5D,KAAK,iBAFf,6EAIA,kBAAC,IAAD,CAAUgE,QAASrF,KAAKrD,MAAMqI,UAAUD,eAC9BU,SAAUzF,KAAKiF,YACf5D,KAAK,kBAFf,sFAMR,kBAAC,IAAD,CAAKV,UAAU,iBACX,kBAAC,IAAD,CAAQH,KAAK,IAAIC,WAAW,EAAMC,QAAS,kBAAMlB,MAAjD,0DACA,kBAAC,IAAD,CAAQgB,KAAK,IAAIC,WAAW,EAAMC,QAASV,KAAKsF,WAAhD,2D,GAhFOxE,IAAMC,WA+F/BC,GAAqB,CACvBuE,YCjHuB,SAACK,EAAUZ,GAAX,MACvB,CACIvL,KRJqB,iBQKrBC,QAAS,CACL4F,KAAMsG,EACNnL,KAAMuK,KD6GdxF,UAGWyB,gBAXS,SAACtE,GACrB,MAAO,CACHqI,UAAWrI,EAAM0C,SAAS5C,SASMuE,GAAzBC,CAA6C2C,I,4DE5GtDiC,GAAO,CACT,CACIxE,KAAM,MACNyE,OAAQ,iEACRxE,KAAM,oJAEV,CACID,KAAM,6CACNyE,OAAQ,iEACRxE,KAAM,4KAEV,CACID,KAAM,kCACNyE,OAAQ,mEACRxE,KAAM,iGAIRyE,G,iLAEQ,IAAD,EAC4B/F,KAAKC,MAA/Bd,EADF,EACEA,GAAImB,EADN,EACMA,QAASX,EADf,EACeA,UAEpB,OACI,kBAAC,IAAD,CACIR,GAAIA,EACJ6G,OACI,kBAAC,IAAD,CACItC,MAAOuC,KACP,kBAAC,IAAD,CAAcvF,QAASJ,GAAS,kBAAC,KAAD,OAChC4F,MAAOD,KACP,kBAAC,IAAD,CAAcvF,QAASJ,GAAS,kBAAC,KAAD,QAJpC,sFASJA,QAASA,EACT6F,eAAgB,IAEhB,kBAAC,IAAD,KACKN,GAAKjE,KAAI,SAACwE,EAAKC,GAAN,OACN,kBAAC,IAAD,CACIvE,IAAKuE,EACLlF,YAAaiF,EAAI9E,KACjBC,OAAQ,kBAAC,IAAD,CAAQf,KAAM,GAAII,IAAKwF,EAAIN,SACnCpF,QAAS,kBAAMf,EAAU,wBACzB2G,aAAc,kBAAC,KAAD,CAAeC,KAAK,aAEjCH,EAAI/E,e,GA9BDP,IAAMC,WAwChCC,GAAqB,CACvBrB,aAGWsB,eAAQ,KAAMD,GAAdC,CAAkC8E,ICjE3CA,G,iLAEQ,IAAD,EACiB/F,KAAKC,MAApBd,EADF,EACEA,GAAImB,EADN,EACMA,QAEX,OACI,kBAAC,IAAD,CACInB,GAAIA,EACJ6G,OACI,kBAAC,IAAD,CACItC,MAAOuC,KACP,kBAAC,IAAD,CAAcvF,QAASJ,GAAS,kBAAC,KAAD,OAChC4F,MAAOD,KACP,kBAAC,IAAD,CAAcvF,QAASJ,GAAS,kBAAC,KAAD,QAJpC,gGASJA,QAASA,EACT6F,eAAgB,IAEhB,kBAAC,IAAD,CACIhF,YAAY,mDACZI,OAAQ,kBAAC,IAAD,CAAQf,KAAM,GAAII,IAAI,mDAFlC,oDAMA,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAST,MAAM,sEAAf,SAIJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAASA,MAAM,8CAAf,QAIJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAASA,MAAM,8CAAf,e,GAvCQW,IAAMC,WAkDvBE,iBAAU8E,ICtCnBS,G,YACF,WAAYvG,GAAQ,IAAD,8BACf,4CAAMA,KAEDwG,sBAAwB,EAHd,E,iFAME,IAAD,SACWzG,KAAKC,MAAzBT,EADS,EACTA,QAEPgD,EAHgB,EACDA,WlBrBM,SAACA,GAS1B5I,IAAU8M,WARgB,SAApBC,EAAqBzB,GACD,yBAAlBA,EAAE0B,OAAOnN,OACTG,IAAUiN,YAAYF,GAEtBnE,EFHR,CACI/I,KCVwB,mBDWxBC,QEC4BwL,EAAE0B,OAAOnM,KAAKqM,aAK9ClN,IAAUC,KAAK,eAAgB,OkBe3BsB,OAAO4L,WAAa,WAChB,IAAIC,GAAW,IAAIC,KAEfD,EAAU,EAAKP,sBAAwB,KACvC,EAAKA,sBAAwBO,EAE7BxH,EAAO,YAEPrE,OAAO4C,QAAQC,UAAU,KAAM,S,yCAKxB0E,EAAWC,EAAWC,GAAW,IAAD,EACgB5C,KAAKC,MAA7DzE,EADwC,EACxCA,WAAYD,EAD4B,EAC5BA,YAAaE,EADe,EACfA,YAAaY,EADE,EACFA,eAE7C,GACIqG,EAAUlH,aAAeA,GACzBkH,EAAUjH,cAAgBA,GAC1BiH,EAAUnH,cAAgBA,EAC5B,CACE,IAAI2L,EAAqB7K,EAAed,EAAc,IAAMC,EAAa,IAAMC,IAAgB,EAE/FN,OAAOgM,OAAO,EAAGD,M,+BAIf,IAAD,EAC2HlH,KAAKC,MAA9HT,EADF,EACEA,OAAQd,EADV,EACUA,SAAUkB,EADpB,EACoBA,WAAYxD,EADhC,EACgCA,QAASZ,EADzC,EACyCA,WAAYD,EADrD,EACqDA,YAAaE,EADlE,EACkEA,YAAaS,EAD/E,EAC+EA,aAAcD,EAD7F,EAC6FA,cAAeK,EAD5G,EAC4GA,YAE7GyB,OAAyCzD,IAA9B2B,EAAcT,GAA6B,CAACA,GAAcS,EAAcT,GACnF0D,OAAkC5E,IAAxB8B,EAAQZ,GAA6B,KAAOY,EAAQZ,GAC9DqD,OAA4CvE,IAA7B4B,EAAaV,GAA6B,KAAOU,EAAaV,GAE3E4L,EACF,kBAAC,IAAD,CAAWvI,YAAaA,GACpB,kBAAC,GAAD,CACIM,GAAG,uBACHmB,QAAS,kBAAMV,OAEnB,kBAACyH,GAAD,CACIlI,GAAG,sBACHmB,QAAS,kBAAMV,QAK3B,OACI,kBAAC,IAAD,CAAgB0H,WAAW,EAAMR,OAAQxK,GACrC,kBAAC,IAAD,CAAMf,YAAaA,EAAagM,OAC5B,kBAAC,IAAD,KACI,kBAAC,IAAD,CACI7G,QAAS,kBAAMhC,EAAS,OAAQ,SAChC+F,SAA0B,SAAhBlJ,GACb,kBAAC,IAAD,OACD,kBAAC,IAAD,CACImF,QAAS,kBAAMhC,EAAS,OAAQ,SAChC+F,SAA0B,SAAhBlJ,GACb,kBAAC,IAAD,SAGL,kBAAC,IAAD,CAAM4D,GAAG,OAAO3D,WAAYA,EAAY0D,OAAQA,GAC5C,kBAAC,IAAD,CACIC,GAAG,OACHqI,MAAOJ,EACP3L,YAAaA,EACbsC,QAASA,EACT0J,YAAa,kBAAMjI,MAEnB,kBAAC,EAAD,CAAeL,GAAG,OAAOoB,aAAa,IACtC,kBAAC,EAAD,CAAiBpB,GAAG,aAG5B,kBAAC,IAAD,CAAMA,GAAG,OAAO3D,WAAYA,EAAY0D,OAAQA,GAC5C,kBAAC,IAAD,CACIC,GAAG,OACHqI,MAAOJ,EACP3L,YAAaA,EACbsC,QAASA,EACT0J,YAAa,kBAAMjI,MAEnB,kBAAC,GAAD,CAAeL,GAAG,UAEtB,kBAAC,IAAD,CACIA,GAAG,QACHqI,MAAOJ,EACP3L,YAAaA,EACbsC,QAASA,EACT0J,YAAa,kBAAMjI,MAEnB,kBAAC,GAAD,CAAkBL,GAAG,oB,GAtG/B2B,IAAMC,WAqITE,oBAtBS,SAACtE,GACrB,MAAO,CACHnB,WAAYmB,EAAMU,OAAO7B,WACzBC,YAAakB,EAAMU,OAAO5B,YAC1BF,YAAaoB,EAAMU,OAAO9B,YAC1BU,cAAeU,EAAMU,OAAOpB,cAC5BC,aAAcS,EAAMU,OAAOnB,aAC3BE,QAASO,EAAMU,OAAOjB,QACtBC,eAAgBM,EAAMU,OAAOhB,eAE7BC,YAAaK,EAAMtC,KAAKiC,gBAKhC,SAA4BkG,GACxB,OAAO,aACHA,YACGmB,6BAAmB,CAACjF,WAAUc,SAAQI,cAAa4C,MAI/CvB,CAA6CuF,ICzJ5D,uCAkBO,IAAMrM,GAAQuN,sBAAYC,EAAaC,8BAC1CC,0BAAgBC,O,GlBcW,SAACC,GAAS,IAE/BrM,EAAO,CAACrC,KADC0O,EAARC,KACkBC,OAAO,IAE1BC,GADOrP,EAAOO,OAAOwC,MAAK,SAAAC,GAAE,OAAKA,EAAGvC,SAAWoC,EAAKrC,SAASqC,GAClDrC,KAAK8O,MAAM,KAK5B,MAAO,CACH5M,YALgB2M,EAAI,IAAMrP,EAAOG,WAMjCwC,WALe0M,EAAI,IAAMrP,EAAOI,UAMhCwC,YALgByM,EAAI,IAAMrP,EAAOK,YkBnBMkP,CAAgBjN,OAAOkN,UAA/D9M,G,GAAAA,YAAaC,G,GAAAA,WAAYC,G,GAAAA,YAEhCtB,GAAMqI,SAAS9D,EAASnD,GAAcA,KAAgBC,GAAcC,GAAc5C,EAAOM,YAEtFoC,KAAgBC,IACfrB,GAAMqI,SAASjD,EAAQ/D,GAAYC,KAGvC6M,IAASC,OACL,kBAAC,IAAD,CAAUpO,MAAOA,IACb,kBAAC,GAAD,OAEJY,SAASmC,eAAe,U","file":"static/js/main.45a32ba6.chunk.js","sourcesContent":["export const config = {\n    appID: 7282836,\n    vkAPI: '5.92',\n    startStory: 'home',\n    startView: 'home',\n    startPanel: 'base',\n    basePanel: 'base',\n    routes: [\n        { path: 'home/home/base',  pretty: ''} ,\n        { path: 'more/modal/filters',  pretty: 'modal'} ,\n    ],\n};","import {\n    SET_COLOR_SCHEME,\n    SET_ACCESS_TOKEN,\n    SET_ACTIVE_TAB,\n    SET_SCROLL_POSITION,\n    SET_SCROLL_POSITION_BY_ID\n} from './actionTypes';\n\nexport const setColorScheme = (scheme) => (\n    {\n        type: SET_COLOR_SCHEME,\n        payload: scheme\n    }\n);\n\nexport const setAccessToken = (accessToken) => (\n    {\n        type: SET_ACCESS_TOKEN,\n        payload: accessToken\n    }\n);\n\nexport const setActiveTab = (component, tab) => (\n    {\n        type: SET_ACTIVE_TAB,\n        payload: {\n            component,\n            tab\n        }\n    }\n);\n\nexport const setScrollPosition = (component, x = 0, y = 0) => (\n    {\n        type: SET_SCROLL_POSITION,\n        payload: {\n            component,\n            x,\n            y\n        }\n    }\n);\n\nexport const setScrollPositionByID = (component) => (\n    {\n        type: SET_SCROLL_POSITION_BY_ID,\n        payload: {\n            component\n        }\n    }\n);","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import VKConnect from \"@vkontakte/vk-connect\";\n\nimport {store} from \"../../index\";\nimport {config} from \"../../config\";\n\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\n\nexport const initApp = () => (dispatch) => {\n    const VKConnectCallback = (e) => {\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\n            VKConnect.unsubscribe(VKConnectCallback);\n\n            dispatch(setColorScheme(e.detail.data.scheme));\n        }\n    };\n\n    VKConnect.subscribe(VKConnectCallback);\n    VKConnect.send('VKWebAppInit', {});\n};\n\nexport const getAuthToken = (scope) => (dispatch) => {\n    VKConnect.sendPromise(\"VKWebAppGetAuthToken\", {\n        \"app_id\": config.appID,\n        \"scope\": scope.join(',')\n    }).then(data => {\n        dispatch(setAccessToken(data.data.access_token));\n    }).catch(() => {\n        dispatch(setAccessToken(null));\n    });\n};\n\nexport const closeApp = () => {\n    VKConnect.send(\"VKWebAppClose\", {\"status\": \"success\"});\n};\n\nexport const swipeBackOn = () => {\n    VKConnect.send(\"VKWebAppEnableSwipeBack\", {});\n};\n\nexport const swipeBackOff = () => {\n    VKConnect.send(\"VKWebAppDisableSwipeBack\", {});\n};\n\nexport const groupsGet = () => {\n    return APICall('groups.get', {\n        \"extended\": \"1\",\n        \"fields\": \"description\",\n        \"count\": \"100\"\n    });\n};\n\nexport const APICall = (method, params) => {\n    params['access_token'] = store.getState().vkui.accessToken;\n    params['v'] = params['v'] === undefined ? config.vkAPI : params['v'];\n\n    return VKConnect.sendPromise(\"VKWebAppCallAPIMethod\", {\n        \"method\": method,\n        \"params\": params\n    }).then(data => {\n        return data.data.response;\n    }).catch(error => {\n        return error;\n    });\n};","import {store} from \"../../index\";\nimport {config} from \"../../config\";\n\nexport const smoothScrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n\n    if (c > 30) {\n        return;\n    }\n\n    if (c > 0) {\n        window.requestAnimationFrame(smoothScrollToTop);\n        window.scrollTo(0, c - c / 8);\n    }\n};\n\nexport const restoreScrollPosition = () => {\n    let scrolls = store.getState().vkui.componentScroll;\n\n    Object.keys(scrolls).forEach((component) => {\n        let componentData = scrolls[component];\n\n        let element = document.getElementById(component);\n\n        if (element) {\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n            element.scrollLeft = componentData.x;\n            element.scrollTop = componentData.y;\n        }\n    });\n};\n\nexport const routerUrl2State = (url) => {\n    const {hash} = url;\n    const _url = {path: hash.substr(2)};\n    const _SVP = config.routes.find(el =>  el.pretty === _url.path) || _url;\n    const SVP = _SVP.path.split('/');\n    const activeStory = SVP[0] || config.startStory;\n    const activeView = SVP[1] || config.startView;\n    const activePanel = SVP[2] || config.startPanel;\n\n    return {\n        activeStory,\n        activeView,\n        activePanel\n    }\n}\n\nexport const routerState2Url = (activeStory, activeView, activePanel) => {\n    const _url = {pretty: [activeStory, activeView, activePanel].join('/')};\n    const _SVP = config.routes.find(el =>  el.path === _url.pretty) || _url;\n\n    return ['#',  _SVP.pretty].join('/');\n}","import {\n    SET_PAGE,\n    GO_BACK,\n    OPEN_POPOUT,\n    CLOSE_POPOUT,\n    OPEN_MODAL,\n    CLOSE_MODAL,\n    SET_STORY\n} from './actionTypes';\n\nimport * as VK from \"../../services/VK\";\nimport {smoothScrollToTop, routerState2Url} from \"../../services/_functions\";\nimport {config} from \"../../../config\";\n\nconst initialState = {\n    activeStory: null,\n    activeView: null,\n    activePanel: null,\n\n    storiesHistory: [],\n    viewsHistory: [],\n    panelsHistory: [],\n\n    activeModals: [],\n    modalHistory: [],\n    popouts: [],\n\n    scrollPosition: []\n};\n\nexport const routerReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_PAGE: {\n            let View = action.payload.view;\n            let Panel = action.payload.panel;\n\n            // window.history.pushState(null, null);\n\n            let panelsHistory = state.panelsHistory[View] || [];\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\n\n            const viewIndexInHistory = viewsHistory.indexOf(View);\n\n            if (viewIndexInHistory !== -1) {\n                viewsHistory.splice(viewIndexInHistory, 1);\n            }\n\n            if (panelsHistory.indexOf(Panel) === -1) {\n                panelsHistory = [...panelsHistory, Panel];\n            }\n\n            if (panelsHistory.length > 1) {\n                VK.swipeBackOn();\n            }\n\n            window.history.pushState(null, null, routerState2Url(state.activeStory, View, Panel));\n            return {\n                ...state,\n                activeView: View,\n                activePanel: Panel,\n\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [View]: panelsHistory,\n                },\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [state.activeStory]: [...viewsHistory, View]\n                },\n                scrollPosition: {\n                    ...state.scrollPosition,\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\n                }\n            };\n        }\n\n        case SET_STORY: {\n            // window.history.pushState(null, null);\n\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\n\n            let storiesHistory = state.storiesHistory;\n            let activeView = viewsHistory[viewsHistory.length - 1];\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\n            let activePanel = panelsHistory[panelsHistory.length - 1];\n\n            if (action.payload.story === state.activeStory) {\n                if (panelsHistory.length > 1) {\n                    let firstPanel = panelsHistory.shift();\n                    panelsHistory = [firstPanel];\n\n                    activePanel = panelsHistory[panelsHistory.length - 1];\n                } else if (viewsHistory.length > 1) {\n                    let firstView = viewsHistory.shift();\n                    viewsHistory = [firstView];\n\n                    activeView = viewsHistory[viewsHistory.length - 1];\n                    panelsHistory = state.panelsHistory[activeView];\n                    activePanel = panelsHistory[panelsHistory.length - 1];\n                }\n            }\n\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\n                window.scrollTo(0, 30);\n\n                smoothScrollToTop();\n            }\n\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\n\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\n                storiesHistory = [...storiesHistory, action.payload.story];\n            }\n\n            window.history.pushState(null, null, routerState2Url(action.payload.story, activeView, activePanel));\n\n            return {\n                ...state,\n                activeStory: action.payload.story,\n                activeView: activeView,\n                activePanel: activePanel,\n\n                storiesHistory: storiesHistory,\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [activeView]: viewsHistory\n                },\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [activeView]: panelsHistory\n                },\n\n                scrollPosition: {\n                    ...state.scrollPosition,\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\n                }\n            };\n        }\n\n        case GO_BACK: {\n            let setView = state.activeView;\n            let setPanel = state.activePanel;\n            let setStory = state.activeStory;\n\n            let popoutsData = state.popouts;\n\n            if (popoutsData[setView]) {\n                popoutsData[setView] = null;\n\n                return {\n                    ...state,\n                    popouts: {\n                        ...state.popouts, popoutsData\n                    }\n                };\n            }\n\n            let viewModalsHistory = state.modalHistory[setView];\n\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\n\n                if (activeModal === null) {\n                    viewModalsHistory = [];\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\n                } else {\n                    viewModalsHistory.push(activeModal);\n                }\n\n                return {\n                    ...state,\n                    activeModals: {\n                        ...state.activeModals,\n                        [setView]: activeModal\n                    },\n                    modalHistory: {\n                        ...state.modalHistory,\n                        [setView]: viewModalsHistory\n                    }\n                };\n            }\n\n            let panelsHistory = state.panelsHistory[setView] || [];\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\n            let storiesHistory = state.storiesHistory;\n\n            if (panelsHistory.length > 1) {\n                panelsHistory.pop();\n\n                setPanel = panelsHistory[panelsHistory.length - 1];\n            } else if (viewsHistory.length > 1) {\n                viewsHistory.pop();\n\n                setView = viewsHistory[viewsHistory.length - 1];\n                let panelsHistoryNew = state.panelsHistory[setView] || config.basePanel;\n\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n            } else if (storiesHistory.length > 1 && action.payload.from === 'Android') {\n                storiesHistory.pop();\n\n                setStory = storiesHistory[storiesHistory.length - 1] || config.startStory;\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1] || config.startView;\n\n                let panelsHistoryNew = state.panelsHistory[setView];\n\n                if (panelsHistoryNew.length > 1) {\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n                } else {\n                    setPanel = panelsHistoryNew[0];\n                }\n            } else if(panelsHistory.length === 1) {\n                setPanel = 'base';\n            } else {\n                VK.closeApp();\n            }\n\n            if (panelsHistory.length === 1 && action.payload.from === 'iOS') {\n                VK.swipeBackOff();\n            }\n\n            window.history.pushState(null, null, routerState2Url(setStory, setView, setPanel));\n            return {\n                ...state,\n                activeView: setView,\n                activePanel: setPanel,\n                activeStory: setStory,\n\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [state.activeView]: viewsHistory\n                },\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [state.activeView]: panelsHistory\n                }\n            };\n        }\n\n        case OPEN_POPOUT: {\n            window.history.pushState(null, null);\n\n            return {\n                ...state,\n                popouts: {\n                    ...state.popouts,\n                    [state.activeView]: action.payload.popout\n                }\n            };\n        }\n\n        case CLOSE_POPOUT: {\n            return {\n                ...state,\n                popouts: {\n                    ...state.popouts,\n                    [state.activeView]: null\n                }\n            };\n        }\n\n        case OPEN_MODAL: {\n            window.history.pushState(null, null);\n\n            let activeModal = action.payload.id || null;\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\n\n            if (activeModal === null) {\n                modalsHistory = [];\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\n            } else {\n                modalsHistory.push(activeModal);    \n               }\n\n             return {\n                ...state,\n                activeModals: {\n                    ...state.activeModals,\n                    [state.activeView]: activeModal\n                },\n                modalHistory: {\n                    ...state.modalHistory,\n                    [state.activeView]: modalsHistory\n                }\n            };\n        }\n\n        case CLOSE_MODAL: {\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\n\n            if (activeModal === null) {\n                modalsHistory = [];\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\n            } else {\n                modalsHistory.push(activeModal);\n            }\n\n            return {\n                ...state,\n                activeModals: {\n                    ...state.activeModals,\n                    [state.activeView]: activeModal\n                },\n                modalHistory: {\n                    ...state.modalHistory,\n                    [state.activeView]: modalsHistory\n                }\n            };\n        }\n\n        default: {\n            return state;\n        }\n    }\n};","import {\n    SET_ACCESS_TOKEN,\n    SET_ACTIVE_TAB,\n    SET_COLOR_SCHEME,\n    SET_SCROLL_POSITION,\n    SET_SCROLL_POSITION_BY_ID\n} from './actionTypes';\n\nconst initialState = {\n    accessToken: undefined,\n    colorScheme: 'client_light',\n\n    activeTab: [],\n    componentScroll: []\n};\n\nexport const vkuiReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_COLOR_SCHEME: {\n            return {\n                ...state,\n                colorScheme: action.payload,\n            };\n        }\n\n        case SET_ACCESS_TOKEN: {\n            return {\n                ...state,\n                accessToken: action.payload,\n            };\n        }\n\n        case SET_ACTIVE_TAB: {\n            return {\n                ...state,\n                activeTab: {\n                    ...state.activeTab,\n                    [action.payload.component]: action.payload.tab\n                },\n            };\n        }\n\n        case SET_SCROLL_POSITION: {\n            return {\n                ...state,\n                componentScroll: {\n                    ...state.componentScroll,\n                    [action.payload.component]: {\n                        x: action.payload.x,\n                        y: action.payload.y\n                    }\n                },\n            };\n        }\n\n        case SET_SCROLL_POSITION_BY_ID: {\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n            let x = element.scrollLeft;\n            let y = element.scrollTop;\n\n            return {\n                ...state,\n                componentScroll: {\n                    ...state.componentScroll,\n                    [action.payload.component]: {\n                        x: x,\n                        y: y\n                    }\n                },\n            };\n        }\n\n        default: {\n            return state;\n        }\n    }\n};","import {SET_FORM_DATA} from './actionTypes';\n\nconst initialState = {\n    forms: []\n};\n\nexport const formDataReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_FORM_DATA: {\n            return {\n                ...state,\n                forms: {\n                    ...state.forms,\n                    [action.payload.form]: action.payload.data\n                }\n            };\n        }\n\n        default: {\n            return state;\n        }\n\n    }\n\n};","import {combineReducers} from \"redux\";\nimport {routerReducer} from './router/reducers';\nimport {vkuiReducer} from './vk/reducers';\nimport {formDataReducer} from \"./formData/reducers\";\n\nexport default combineReducers({\n    vkui: vkuiReducer,\n    router: routerReducer,\n    formData: formDataReducer\n});","export const SET_PAGE = 'SET_PAGE';\nexport const SET_STORY = 'SET_STORY';\nexport const GO_BACK = 'GO_BACK';\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\nexport const OPEN_MODAL = 'OPEN_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\n\nexport const setStory = (story, initial_panel) => (\n    {\n        type: SET_STORY,\n        payload: {\n            story: story,\n            initial_panel: initial_panel,\n        }\n    }\n);\n\nexport const setPage = (view, panel) => (\n    {\n        type: SET_PAGE,\n        payload: {\n            view: view,\n            panel: panel\n        }\n    }\n);\n\nexport const goBack = (from = 'iOS') => (\n    {\n        type: GO_BACK,\n        payload: {\n            from: from\n        }\n    }\n);\n\nexport const openPopout = (popout) => (\n    {\n        type: OPEN_POPOUT,\n        payload: {\n            popout: popout\n        }\n    }\n);\n\nexport const closePopout = () => (\n    {\n        type: CLOSE_POPOUT\n    }\n);\n\nexport const openModal = (id) => (\n    {\n        type: OPEN_MODAL,\n        payload: {\n            id\n        }\n    }\n);\n\nexport const closeModal = () => (\n    {\n        type: CLOSE_MODAL\n    }\n);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\n\nimport {Div, Panel, Alert, Group, Button, PanelHeader} from \"@vkontakte/vkui\"\n\nclass HomePanelBase extends React.Component {\n\n    state = {\n        showImg: false\n    };\n\n    showImg = () => {\n        this.setState({showImg: true});\n    };\n\n    openPopout() {\n        this.props.openPopout(\n            <Alert\n                actions={[{\n                    title: 'Нет',\n                    autoclose: true,\n                    style: 'cancel',\n                }, {\n                    title: 'Да',\n                    autoclose: true,\n                    action: this.showImg\n                }]}\n                onClose={() => this.props.closePopout()}\n            >\n                <h2>Вопрос значит</h2>\n                <p>Вас роняли в детстве?</p>\n            </Alert>\n        );\n    }\n\n    render() {\n        const {id, setPage, withoutEpic} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader>Примеры</PanelHeader>\n                <Group>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => setPage('home', 'groups')}>Список моих\n                            групп</Button>\n                    </Div>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => this.openPopout()}>Открыть алерт</Button>\n                    </Div>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => this.props.openModal(\"MODAL_PAGE_BOTS_LIST\")}>Открыть\n                            модальную страницу</Button>\n                    </Div>\n                    {withoutEpic && <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => setPage('modal', 'filters')}>Открыть модальное окно</Button>\n                    </Div>}\n                    {this.state.showImg && <Div className=\"div-center\">\n                        <img src=\"https://vk.com/sticker/1-12676-256\" alt=\"Стикер VK\"/>\n                    </Div>}\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapDispatchToProps = {\n    setPage,\n    goBack,\n    openPopout,\n    closePopout,\n    openModal\n};\n\nexport default connect(null, mapDispatchToProps)(HomePanelBase);","import React, {PureComponent} from 'react';\n\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\n\nclass GroupCell extends PureComponent {\n\n    render() {\n        const {description, photo, name} = this.props;\n\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\n\n        return (\n            <Cell\n                description={desc}\n                before={<Avatar size={40} src={photo}/>}\n            >\n                {name}\n            </Cell>\n        )\n    }\n\n}\n\nexport default GroupCell;","import React from 'react';\nimport GroupCell from '../components/GroupCell';\n\nexport const renderGroupsList = (items) => {\n    let groups = null;\n    if (items !== undefined && items !== null && items.length !== 0) {\n        groups = items.map((group) => (\n            <GroupCell\n                key={group.id}\n                description={group.description}\n                photo={group.photo_100}\n                name={group.name}/>\n        ));\n    }\n    return groups;\n};","import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from \"redux\";\n\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\n\nimport {renderGroupsList} from '../../services/renderers';\n\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack} from \"@vkontakte/vkui\";\n\nclass HomePanelGroups extends React.Component {\n\n    state = {\n        groups: {\n            admined: [],\n            other: [],\n        },\n        loading: true,\n        errorGetAuthToken: false\n    };\n\n    componentDidMount() {\n        if (this.props.accessToken === undefined) {\n            this.getAuthToken();\n        } else {\n            this.getGroupsList();\n        }\n    }\n\n    getAuthToken() {\n        this.props.dispatch(VK.getAuthToken(['groups']));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props !== prevProps) {\n            if (this.props.accessToken === null) {\n                this.setState({\n                    loading: false,\n                    errorGetAuthToken: true\n                });\n            } else {\n                this.setState({\n                    loading: true,\n                    errorGetAuthToken: false\n                });\n\n                this.getGroupsList();\n            }\n        }\n    }\n\n    async getGroupsList() {\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\n            this.setState({\n                groups: {\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\n                },\n                loading: false\n            });\n\n            return;\n        }\n\n        let groups = await VK.groupsGet();\n\n        let adminedGroups = groups.items.filter(function (item) {\n            return item.is_admin === 1;\n        });\n\n        let otherGroups = groups.items.filter(function (item) {\n            return item.is_admin === 0;\n        });\n\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\n\n        this.setState({\n            groups: {\n                admined: adminedGroups,\n                other: otherGroups\n            },\n            loading: false\n        });\n    }\n\n    render() {\n        const {id, goBack} = this.props;\n\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\n                >\n                    Группы\n                </PanelHeader>\n                {this.state.loading && <PanelSpinner/>}\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\n                            повторно</Button>\n                    </Div>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\n                <Group title=\"Администрируемые\">\n                    <List>\n                        {adminedGroupsList}\n                    </List>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\n                <Group title=\"Остальные\">\n                    <List>\n                        {otherGroupsList}\n                    </List>\n                </Group>}\n            </Panel>\n        );\n    }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dispatch,\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        accessToken: state.vkui.accessToken\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {setPage} from \"../../store/router/actions\";\nimport {setActiveTab, setScrollPositionByID} from \"../../store/vk/actions\";\nimport {restoreScrollPosition} from \"../../services/_functions\";\n\nimport {\n    Div,\n    Panel,\n    Group,\n    CellButton,\n    PanelHeader,\n    FixedLayout,\n    HorizontalScroll,\n    TabsItem,\n    Tabs\n} from \"@vkontakte/vkui\";\n\nclass HomePanelProfile extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeTab: props.activeTab[\"EXAMPLE\"] || \"modal\"\n        };\n    }\n\n    setTab(tab) {\n        this.setState({\n            activeTab: tab\n        });\n    }\n\n    componentWillUnmount() {\n        const {setScrollPositionByID, setActiveTab} = this.props;\n\n        setActiveTab(\"EXAMPLE\", this.state.activeTab);\n        setScrollPositionByID(\"EXAMPLE_TABS_LIST\");\n    }\n\n    componentDidMount() {\n        restoreScrollPosition();\n    }\n\n    render() {\n        const {id, setPage} = this.props;\n        const boxStyle = {marginTop: 56};\n\n        return (\n            <Panel id={id}>\n                <PanelHeader noShadow={true}>Examples 2</PanelHeader>\n                <FixedLayout vertical=\"top\">\n                    <Tabs theme=\"header\" type=\"buttons\">\n                        <HorizontalScroll id=\"EXAMPLE_TABS_LIST\">\n                            <TabsItem\n                                onClick={() => this.setTab('modal')}\n                                selected={this.state.activeTab === 'modal'}\n                            >\n                                Модальное окно\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test')}\n                                selected={this.state.activeTab === 'test'}\n                            >\n                                Для теста\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test2')}\n                                selected={this.state.activeTab === 'test2'}\n                            >\n                                Для теста 2\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test3')}\n                                selected={this.state.activeTab === 'test3'}\n                            >\n                                Для теста 3\n                            </TabsItem>\n                        </HorizontalScroll>\n                    </Tabs>\n                </FixedLayout>\n                <Group style={boxStyle}>\n                    {this.state.activeTab === 'modal' && <CellButton onClick={() => setPage('modal', 'filters')}>\n                        Открыть модальное окно\n                    </CellButton>}\n\n                    {this.state.activeTab !== 'modal' && <Div>{this.state.activeTab}</Div>}\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeTab: state.vkui.activeTab,\n    };\n};\n\nconst mapDispatchToProps = {\n    setPage,\n    setActiveTab,\n    setScrollPositionByID\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {goBack} from '../../store/router/actions';\nimport {setFormData} from \"../../store/formData/actions\";\n\nimport {\n    Div,\n    Button,\n    Checkbox,\n    Input,\n    FormLayout,\n    FormLayoutGroup,\n    Panel,\n    Group,\n    PanelHeader,\n    PanelHeaderBack\n} from \"@vkontakte/vkui\";\n\nclass HomePanelProfile extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        let defaultInputData = {\n            workplace: '',\n            workposition: '',\n\n            checkboxPhoto: 0,\n            checkboxOnline: 0\n        };\n\n        this.state = {\n            inputData: props.inputData['example_form'] || defaultInputData\n        };\n\n        this.handleInput = (e) => {\n            let value = e.currentTarget.value;\n\n            if (e.currentTarget.type === 'checkbox') {\n                value = e.currentTarget.checked;\n            }\n\n            this.setState({\n                inputData: {\n                    ...this.state.inputData,\n                    [e.currentTarget.name]: value\n                }\n            })\n        };\n\n        this.clearForm = () => {\n            this.setState({\n                inputData: defaultInputData\n            });\n        };\n    }\n\n    componentWillUnmount() {\n        this.props.setFormData('example_form', this.state.inputData);\n    }\n\n    render() {\n        const {id, goBack} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\n                >\n                    Модальное окно\n                </PanelHeader>\n                <Group>\n                    <FormLayout>\n                        <FormLayoutGroup top=\"Работа\">\n                            <Input value={this.state.inputData.workplace}\n                                   onChange={this.handleInput}\n                                   name=\"workplace\"\n                                   placeholder=\"Место работы\"\n                                   autoComplete=\"off\"/>\n                            <Input value={this.state.inputData.workposition}\n                                   onChange={this.handleInput}\n                                   name=\"workposition\"\n                                   placeholder=\"Должность\"\n                                   autoComplete=\"off\"/>\n                        </FormLayoutGroup>\n                        <FormLayoutGroup top=\"Дополнительно\">\n                            <Checkbox checked={this.state.inputData.checkboxPhoto}\n                                      onChange={this.handleInput}\n                                      name=\"checkboxPhoto\"\n                            >С фотографией</Checkbox>\n                            <Checkbox checked={this.state.inputData.checkboxOnline}\n                                      onChange={this.handleInput}\n                                      name=\"checkboxOnline\"\n                            >Сейчас на сайте</Checkbox>\n                        </FormLayoutGroup>\n                    </FormLayout>\n                    <Div className=\"buttons-group\">\n                        <Button size=\"l\" stretched={true} onClick={() => goBack()}>Сохранить</Button>\n                        <Button size=\"l\" stretched={true} onClick={this.clearForm}>Очистить</Button>\n                    </Div>\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        inputData: state.formData.forms,\n    };\n};\n\nconst mapDispatchToProps = {\n    setFormData,\n    goBack\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import {SET_FORM_DATA} from './actionTypes';\n\nexport const setFormData = (formName, inputData) => (\n    {\n        type: SET_FORM_DATA,\n        payload: {\n            form: formName,\n            data: inputData,\n        }\n    }\n);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {openModal} from \"../../store/router/actions\";\n\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, HeaderButton, IS_PLATFORM_IOS} from \"@vkontakte/vkui\";\n\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\n\nconst bots = [\n    {\n        name: 'VKS',\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\n        desc: 'Нет, меня не роняли в детстве'\n    },\n    {\n        name: 'Недобот',\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\n        desc: 'Я ни разу не пил кокосовое молоко'\n    },\n    {\n        name: 'Callback API Бот',\n        avatar: 'https://pp.userapi.com/c846523/v846523036/1e69b7/UxWZ1yAqY7I.jpg',\n        desc: 'Даже не спрашивай'\n    },\n];\n\nclass HomeBotsListModal extends React.Component {\n\n    render() {\n        const {id, onClose, openModal} = this.props;\n\n        return (\n            <ModalPage\n                id={id}\n                header={\n                    <ModalPageHeader\n                        left={!IS_PLATFORM_IOS &&\n                        <HeaderButton onClick={onClose}><Icon24Cancel/></HeaderButton>}\n                        right={IS_PLATFORM_IOS &&\n                        <HeaderButton onClick={onClose}><Icon24Dismiss/></HeaderButton>}\n                    >\n                        /appbots на минималках\n                    </ModalPageHeader>\n                }\n                onClose={onClose}\n                settlingHeight={80}\n            >\n                <List>\n                    {bots.map((bot, index) => (\n                        <Cell\n                            key={index}\n                            description={bot.desc}\n                            before={<Avatar size={40} src={bot.avatar}/>}\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\n                        >\n                            {bot.name}\n                        </Cell>\n                    ))}\n                </List>\n            </ModalPage>\n        );\n    }\n\n}\n\nconst mapDispatchToProps = {\n    openModal\n};\n\nexport default connect(null, mapDispatchToProps)(HomeBotsListModal);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, HeaderButton, IS_PLATFORM_IOS} from \"@vkontakte/vkui\";\n\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nclass HomeBotsListModal extends React.Component {\n\n    render() {\n        const {id, onClose} = this.props;\n\n        return (\n            <ModalPage\n                id={id}\n                header={\n                    <ModalPageHeader\n                        left={!IS_PLATFORM_IOS &&\n                        <HeaderButton onClick={onClose}><Icon24Cancel/></HeaderButton>}\n                        right={IS_PLATFORM_IOS &&\n                        <HeaderButton onClick={onClose}><Icon24Dismiss/></HeaderButton>}\n                    >\n                        Информация о боте\n                    </ModalPageHeader>\n                }\n                onClose={onClose}\n                settlingHeight={80}\n            >\n                <Cell\n                    description=\"Описание\"\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\n                >\n                    Название\n                </Cell>\n                <List>\n                    <Cell>\n                        <InfoRow title=\"Подписчиков\">\n                            8800\n                        </InfoRow>\n                    </Cell>\n                    <Cell>\n                        <InfoRow title=\"Записей\">\n                            555\n                        </InfoRow>\n                    </Cell>\n                    <Cell>\n                        <InfoRow title=\"Рейтинг\">\n                            3535\n                        </InfoRow>\n                    </Cell>\n                </List>\n            </ModalPage>\n        );\n    }\n\n}\n\nexport default connect()(HomeBotsListModal);","import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux'\nimport {goBack, closeModal, setStory} from \"./js/store/router/actions\";\nimport * as VK from './js/services/VK';\n\nimport {Epic, View, Root, Tabbar, ModalRoot, TabbarItem, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\nimport Icon28More from '@vkontakte/icons/dist/28/more';\n\nimport HomePanelBase from './js/panels/home/base';\nimport HomePanelGroups from './js/panels/home/groups';\n\nimport MorePanelBase from './js/panels/more/base';\nimport MorePanelExample from './js/panels/more/example';\n\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.lastAndroidBackAction = 0;\n    }\n\n    componentDidMount() {\n        const {goBack, dispatch} = this.props;\n\n        dispatch(VK.initApp());\n\n        window.onpopstate = () => {\n            let timeNow = +new Date();\n\n            if (timeNow - this.lastAndroidBackAction > 500) {\n                this.lastAndroidBackAction = timeNow;\n\n                goBack('Android');\n            } else {\n                window.history.pushState(null, null);\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\n\n        if (\n            prevProps.activeView !== activeView ||\n            prevProps.activePanel !== activePanel ||\n            prevProps.activeStory !== activeStory\n        ) {\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\n\n            window.scroll(0, pageScrollPosition);\n        }\n    }\n\n    render() {\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activePanel, activeModals, panelsHistory, colorScheme} = this.props;\n\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\n\n        const homeModals = (\n            <ModalRoot activeModal={activeModal}>\n                <HomeBotsListModal\n                    id=\"MODAL_PAGE_BOTS_LIST\"\n                    onClose={() => closeModal()}\n                />\n                <HomeBotInfoModal\n                    id=\"MODAL_PAGE_BOT_INFO\"\n                    onClose={() => closeModal()}\n                />\n            </ModalRoot>\n        );\n\n        return (\n            <ConfigProvider isWebView={true} scheme={colorScheme}>\n                <Epic activeStory={activeStory} tabbar={\n                    <Tabbar>\n                        <TabbarItem\n                            onClick={() => setStory('home', 'base')}\n                            selected={activeStory === 'home'}\n                        ><Icon28Newsfeed/></TabbarItem>\n                        <TabbarItem\n                            onClick={() => setStory('more', 'base')}\n                            selected={activeStory === 'more'}\n                        ><Icon28More/></TabbarItem>\n                    </Tabbar>\n                }>\n                    <Root id=\"home\" activeView={activeView} popout={popout}>\n                        <View\n                            id=\"home\"\n                            modal={homeModals}\n                            activePanel={activePanel}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <HomePanelBase id=\"base\" withoutEpic={false}/>\n                            <HomePanelGroups id=\"groups\"/>\n                        </View>\n                    </Root>\n                    <Root id=\"more\" activeView={activeView} popout={popout}>\n                        <View\n                            id=\"more\"\n                            modal={homeModals}\n                            activePanel={activePanel}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <MorePanelBase id=\"base\"/>\n                        </View>\n                        <View\n                            id=\"modal\"\n                            modal={homeModals}\n                            activePanel={activePanel}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <MorePanelExample id=\"filters\"/>\n                        </View>\n                    </Root>\n                </Epic>\n            </ConfigProvider>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeView: state.router.activeView,\n        activePanel: state.router.activePanel,\n        activeStory: state.router.activeStory,\n        panelsHistory: state.router.panelsHistory,\n        activeModals: state.router.activeModals,\n        popouts: state.router.popouts,\n        scrollPosition: state.router.scrollPosition,\n\n        colorScheme: state.vkui.colorScheme\n    };\n};\n\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dispatch,\n        ...bindActionCreators({setStory, goBack, closeModal}, dispatch)\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport rootReducer from './js/store/reducers';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nimport {setStory, setPage} from \"./js/store/router/actions\";\nimport {routerUrl2State} from \"./js/services/_functions\";\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/main.css';\n\nimport {config} from './config';\nimport App from './App';\n\nexport const store = createStore(rootReducer, composeWithDevTools(\n    applyMiddleware(thunk),\n));\nconst {activeStory, activeView, activePanel} = routerUrl2State(window.location);\n\nstore.dispatch(setStory(activeStory, (activeStory === activeView) ? activePanel : config.basePanel));\n\nif(activeStory !== activeView) \n    store.dispatch(setPage(activeView, activePanel));\n \n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}